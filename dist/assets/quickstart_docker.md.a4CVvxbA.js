import{_ as a,c as n,a2 as i,o as e}from"./chunks/framework.DPuwY6B9.js";const k=JSON.parse('{"title":"docker 安装","description":"orion-visor docker 安装","frontmatter":{"title":"docker 安装","description":"orion-visor docker 安装"},"headers":[],"relativePath":"quickstart/docker.md","filePath":"quickstart/docker.md","lastUpdated":1733219106000}'),p={name:"quickstart/docker.md"};function l(t,s,o,c,h,r){return e(),n("div",null,s[0]||(s[0]=[i(`<div class="info custom-block"><p class="custom-block-title">使用须知</p><p><strong>在使用本项目前，请您仔细阅读 <a href="/quickstart/license.html">开源协议</a> 及 <a href="/quickstart/disclaimer.html">免责声明</a>，确保您已充分理解其中的内容</strong></p></div><h3 id="所需环境" tabindex="-1">所需环境 <a class="header-anchor" href="#所需环境" aria-label="Permalink to &quot;所需环境&quot;">​</a></h3><ul><li>Docker 20.10.14+</li><li>Docker Compose 2.3.3+</li></ul><p>由于国内无法访问 DockerHub, 可以修改一下配置加速镜像 /etc/docker/daemon.json, 如果没有此文件可以创建此文件 (Linux系统, Window 和 Mac 直接可以通过 Docker 的 Dashboard 修改)</p><p>❌ 由于国内对 Docker 镜像的管控, 大部分镜像提供方都无法使用, 建议自行搜索并且设置为可用的镜像源</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> &quot;registry-mirrors&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   &quot;https://registry.docker-cn.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   &quot;https://registry.cn-hangzhou.aliyuncs.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   &quot;https://mirror.ccs.tencentyun.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   &quot;https://docker.mirrors.ustc.edu.cn&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="拉取代码" tabindex="-1">拉取代码 <a class="header-anchor" href="#拉取代码" aria-label="Permalink to &quot;拉取代码&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># github</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --depth=1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/dromara/orion-visor</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># gitee</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --depth=1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://gitee.com/dromara/orion-visor</span></span></code></pre></div><h3 id="拉取镜像" tabindex="-1">拉取镜像 <a class="header-anchor" href="#拉取镜像" aria-label="Permalink to &quot;拉取镜像&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># 进入仓库目录</span></span>
<span class="line"><span>cd orion-visor</span></span>
<span class="line"><span># 拉取远程镜像</span></span>
<span class="line"><span>docker compose pull</span></span></code></pre></div><h3 id="修改配置" tabindex="-1">修改配置 <a class="header-anchor" href="#修改配置" aria-label="Permalink to &quot;修改配置&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># 创建名为 .env 的 .env.example 副本, 将其中的值删除以保持默认或将其修改为合适的的值</span></span>
<span class="line"><span>cp .env.example .env</span></span>
<span class="line"><span></span></span>
<span class="line"><span># SERVICE_PORT            你希望服务监听的端口</span></span>
<span class="line"><span># VOLUME_BASE             你希望数据持久化保存的目录, 如果不提前创建将以 docker 进程宿主身份创建 (通常是 root)</span></span>
<span class="line"><span></span></span>
<span class="line"><span># MYSQL_HOST              mysql 服务所在的主机, 如果你没有现有的 MySQL 请保持值为 mysql, 如果你有自部署的请在 docker-compose.yml 中移除 services.mysql 以节约性能</span></span>
<span class="line"><span># MYSQL_PORT              mysql 监听的端口</span></span>
<span class="line"><span># MYSQL_DATABASE          mysql 数据库</span></span>
<span class="line"><span># MYSQL_USER              mysql 用户名</span></span>
<span class="line"><span># MYSQL_PASSWORD          mysql 用户密码</span></span>
<span class="line"><span># MYSQL_ROOT_PASSWORD     mysql root 密码</span></span>
<span class="line"><span></span></span>
<span class="line"><span># REDIS_HOST              redis 服务所在的主机, 如果你没有现有的 Redis 请保持值为 redis, 如果你有自部署的请在 docker-compose.yml 中移除 services.redis 以节约性能</span></span>
<span class="line"><span># REDIS_PASSWORD          redis 密码</span></span>
<span class="line"><span></span></span>
<span class="line"><span># SECRET_KEY              加密密钥</span></span>
<span class="line"><span># DEMO_MODE               演示模式</span></span></code></pre></div><h3 id="启动" tabindex="-1">启动 <a class="header-anchor" href="#启动" aria-label="Permalink to &quot;启动&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span></code></pre></div><h3 id="修改-mysql-账户的加密方式" tabindex="-1">修改 MySQL 账户的加密方式 <a class="header-anchor" href="#修改-mysql-账户的加密方式" aria-label="Permalink to &quot;修改 MySQL 账户的加密方式&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>访问 adminer: http://localhost:8081</span></span>
<span class="line"><span>服务器: mysql</span></span>
<span class="line"><span>用户名: root</span></span>
<span class="line"><span>密  码: Data@123456</span></span>
<span class="line"><span>数据库: orion_visor</span></span>
<span class="line"><span></span></span>
<span class="line"><span>点击左侧 SQL命令 输入:</span></span>
<span class="line"><span>ALTER USER &#39;root&#39;@&#39;%&#39; IDENTIFIED WITH mysql_native_password BY &#39;Data@123456&#39;;</span></span>
<span class="line"><span>执行 OK</span></span></code></pre></div><h3 id="测试访问" tabindex="-1">测试访问 <a class="header-anchor" href="#测试访问" aria-label="Permalink to &quot;测试访问&quot;">​</a></h3><p>等待后端服务启动后 (2min±) 在浏览器中输入 <a href="http://localhost:1081/" target="_blank" rel="noreferrer">http://localhost:1081/</a> 访问<br> 账号: <code>admin</code><br> 密码: <code>admin</code></p>`,18)]))}const u=a(p,[["render",l]]);export{k as __pageData,u as default};
