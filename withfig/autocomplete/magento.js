var c=async t=>{let i=await t(`php -r 'print(json_encode(require "app/etc/env.php"));'`);return JSON.parse(i)},p=async t=>{let n=await c(t);return Object.keys(n.cache_types)},u={name:"magento",description:"Open-source E-commerce",generateSpec:async(t,n)=>{let{stdout:i}=await n({command:"bin/magento",args:["list","--format=json","--raw"]}),r=JSON.parse(i),o=await p(n);return{name:"magento",description:"Open-source E-commerce",subcommands:r.commands.map(s=>({name:s.name,description:s.description,args:Object.values(s.definition.arguments).map(e=>{let a=[];return s.name.startsWith("cache:")&&e.name==="types"&&a.push(...o),{name:e.name,description:e.description,isOptional:!e.is_required,default:e.default?.toString()??"",isVariadic:e.is_array,suggestions:a}}),options:Object.values(s.definition.options).map(e=>({name:[e.name,...e.shortcut.split("|")||[]],description:e.description,isRequired:e.is_value_required,requiresEquals:e.accept_value}))}))}}},d=u;export{d as default};
