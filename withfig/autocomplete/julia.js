var Z=Object.create;var z=Object.defineProperty;var Y=Object.getOwnPropertyDescriptor;var ee=Object.getOwnPropertyNames;var ne=Object.getPrototypeOf,te=Object.prototype.hasOwnProperty;var L=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports);var ie=(e,n,t,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of ee(n))!te.call(e,s)&&s!==t&&z(e,s,{get:()=>n[s],enumerable:!(i=Y(n,s))||i.enumerable});return e};var se=(e,n,t)=>(t=e!=null?Z(ne(e)):{},ie(n||!e||!e.__esModule?z(t,"default",{value:e,enumerable:!0}):t,e));var J=L(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.shellExpand=x.ensureTrailingSlash=void 0;var re=e=>e.endsWith("/")?e:`${e}/`;x.ensureTrailingSlash=re;var oe=(e,n)=>e.startsWith("~")&&(e.length===1||e.charAt(1)==="/")?e.replace("~",n):e,ae=(e,n)=>e.replace(/\$([A-Za-z0-9_]+)/g,s=>{var r;let a=s.slice(1);return(r=n[a])!==null&&r!==void 0?r:s}).replace(/\$\{([A-Za-z0-9_]+)(?::-([^}]+))?\}/g,(s,r,a)=>{var u,c;return(c=(u=n[r])!==null&&u!==void 0?u:a)!==null&&c!==void 0?c:s}),le=(e,n)=>{var t;let{environmentVariables:i}=n;return ae(oe(e,(t=i?.HOME)!==null&&t!==void 0?t:"~"),i)};x.shellExpand=le});var G=L(v=>{"use strict";var ue=v&&v.__awaiter||function(e,n,t,i){function s(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function u(o){try{l(i.next(o))}catch(d){a(d)}}function c(o){try{l(i.throw(o))}catch(d){a(d)}}function l(o){o.done?r(o.value):s(o.value).then(u,c)}l((i=i.apply(e,n||[])).next())})};Object.defineProperty(v,"__esModule",{value:!0});v.filepaths=v.folders=v.getCurrentInsertedDirectory=v.sortFilesAlphabetically=void 0;var P=J();function k(e,n=[]){let t=n.map(s=>s.toLowerCase()),i=e.filter(s=>!t.includes(s.toLowerCase()));return[...i.filter(s=>!s.startsWith(".")).sort((s,r)=>s.localeCompare(r)),...i.filter(s=>s.startsWith(".")).sort((s,r)=>s.localeCompare(r)),"../"]}v.sortFilesAlphabetically=k;var ce=(e,n,t)=>{if(e===null)return"/";let i=(0,P.shellExpand)(n,t),s=i.slice(0,i.lastIndexOf("/")+1);return s===""?(0,P.ensureTrailingSlash)(e):s.startsWith("/")?s:`${(0,P.ensureTrailingSlash)(e)}${s}`};v.getCurrentInsertedDirectory=ce;function F(e={}){let{extensions:n=[],equals:t=[],matches:i,filterFolders:s=!1,editFileSuggestions:r,editFolderSuggestions:a,rootDirectory:u,showFolders:c="always"}=e,l=new Set(n),o=new Set(t),d=()=>n.length>0||t.length>0||i,h=(m=[])=>d()?m.filter(({name:g="",type:_})=>{if(!s&&_==="folder"||o.has(g)||i&&g.match(i))return!0;let[,...f]=g.split(".");if(f.length>=1){let b=f.length-1,O=f[b];do{if(l.has(O))return!0;b-=1,O=[f[b],O].join(".")}while(b>=0)}return!1}):m,w=(m=[])=>!r&&!a?m:m.map(g=>Object.assign(Object.assign({},g),(g.type==="file"?r:a)||{}));return{trigger:(m,g)=>{let _=m.lastIndexOf("/"),f=g.lastIndexOf("/");return _!==f?!0:_===-1&&f===-1?!1:m.slice(0,_)!==g.slice(0,f)},getQueryTerm:m=>m.slice(m.lastIndexOf("/")+1),custom:(m,g,_)=>ue(this,void 0,void 0,function*(){var f;let{isDangerous:b,currentWorkingDirectory:O,searchTerm:p}=_,S=(f=(0,v.getCurrentInsertedDirectory)(u??O,p,_))!==null&&f!==void 0?f:"/";try{let q=yield g({command:"ls",args:["-1ApL"],cwd:S}),X=k(q.stdout.split(`
`),[".DS_Store"]),R=[];for(let T of X)if(T){let V=T.endsWith("/")?"folders":"filepaths";(V==="filepaths"&&c!=="only"||V==="folders"&&c!=="never")&&R.push({type:V==="filepaths"?"file":"folder",name:T,insertValue:T,isDangerous:b,context:{templateType:V}})}return w(h(R))}catch{return[]}})}}v.folders=Object.assign(()=>F({showFolders:"only"}),Object.freeze(F({showFolders:"only"})));v.filepaths=Object.assign(F,Object.freeze(F()))});var $=L(j=>{"use strict";var E=j&&j.__awaiter||function(e,n,t,i){function s(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function u(o){try{l(i.next(o))}catch(d){a(d)}}function c(o){try{l(i.throw(o))}catch(d){a(d)}}function l(o){o.done?r(o.value):s(o.value).then(u,c)}l((i=i.apply(e,n||[])).next())})};Object.defineProperty(j,"__esModule",{value:!0});j.keyValueList=j.keyValue=j.valueList=void 0;var W=new Map;function M(e,n){return e.length===0?n:n.map(t=>t.insertValue?t:Object.assign(Object.assign({},t),{insertValue:t.name+e}))}function K(e,n,t){return E(this,void 0,void 0,function*(){if(typeof e=="function"){let i=yield e(...t);return M(n,i)}if(typeof e[0]=="string"){let i=e.map(s=>({name:s}));return M(n,i)}return M(n,e)})}function N(e,n,t,i){return E(this,void 0,void 0,function*(){if(t||Array.isArray(e)){let s=W.get(e);return s===void 0&&(s=yield K(e,n,i),W.set(e,s)),s}return K(e,n,i)})}function U(e,n){return typeof n=="string"?e&&n==="keys"||!e&&n==="values":n}function A(e,...n){return Math.max(...n.map(t=>e.lastIndexOf(t)))}function D(e,n){let t=new Set(e);return n.filter(i=>{var s;return typeof i.name=="string"?!t.has(i.name):!(!((s=i.name)===null||s===void 0)&&s.some(r=>t.has(r)))})}function de({delimiter:e=",",values:n=[],cache:t=!1,insertDelimiter:i=!1,allowRepeatedValues:s=!1}){return{trigger:(r,a)=>r.lastIndexOf(e)!==a.lastIndexOf(e),getQueryTerm:r=>r.slice(r.lastIndexOf(e)+e.length),custom:(...r)=>E(this,void 0,void 0,function*(){var a;let u=yield N(n,i?e:"",t,r);if(s)return u;let[c]=r,l=(a=c[c.length-1])===null||a===void 0?void 0:a.split(e);return D(l,u)})}}j.valueList=de;function fe({separator:e="=",keys:n=[],values:t=[],cache:i=!1,insertSeparator:s=!0}){return{trigger:(r,a)=>r.indexOf(e)!==a.indexOf(e),getQueryTerm:r=>r.slice(r.indexOf(e)+1),custom:(...r)=>E(this,void 0,void 0,function*(){let[a]=r,c=!a[a.length-1].includes(e),l=c?n:t,o=U(c,i);return N(l,c&&s?e:"",o,r)})}}j.keyValue=fe;function me({separator:e="=",delimiter:n=",",keys:t=[],values:i=[],cache:s=!1,insertSeparator:r=!0,insertDelimiter:a=!1,allowRepeatedKeys:u=!1,allowRepeatedValues:c=!0}){return{trigger:(l,o)=>{let d=A(l,e,n),h=A(o,e,n);return d!==h},getQueryTerm:l=>{let o=A(l,e,n);return l.slice(o+1)},custom:(...l)=>E(this,void 0,void 0,function*(){let[o]=l,d=o[o.length-1],h=A(d,e,n),w=h===-1||d.slice(h,h+e.length)!==e,m=w?t:i,g=U(w,s),f=yield N(m,w?r?e:"":a?n:"",g,l);if(w){if(u)return f;let O=d.split(n).map(p=>p.slice(0,p.indexOf(e)));return D(O,f)}if(c)return f;let b=d.split(n).map(O=>O.slice(O.indexOf(e)+e.length));return D(b,f)})}}j.keyValueList=me});var Q=L(I=>{"use strict";var pe=I&&I.__awaiter||function(e,n,t,i){function s(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function u(o){try{l(i.next(o))}catch(d){a(d)}}function c(o){try{l(i.throw(o))}catch(d){a(d)}}function l(o){o.done?r(o.value):s(o.value).then(u,c)}l((i=i.apply(e,n||[])).next())})};Object.defineProperty(I,"__esModule",{value:!0});I.ai=void 0;var ge=4097,he=4,ve=.8,ye=ge*he*ve;function be({name:e,prompt:n,message:t,postProcess:i,temperature:s,splitOn:r}){return{scriptTimeout:15e3,custom:(a,u,c)=>pe(this,void 0,void 0,function*(){var l,o;let d=yield u({command:"fig",args:["settings","--format","json","autocomplete.ai.enabled"]});if(!JSON.parse(d.stdout))return[];let h=typeof n=="function"?yield n({tokens:a,executeCommand:u,generatorContext:c}):n,w=typeof t=="function"?yield t({tokens:a,executeCommand:u,generatorContext:c}):t;if(w===null||w.length===0)return console.warn("No message provided to AI generator"),[];let m=ye-((l=h?.length)!==null&&l!==void 0?l:0),g={model:"gpt-3.5-turbo",source:"autocomplete",name:e,messages:[...h?[{role:"system",content:h}]:[],{role:"user",content:w.slice(0,m)}],temperature:s},_=JSON.stringify(g),f=yield u({command:"fig",args:["_","request","--route","/ai/chat","--method","POST","--body",_]}),b=JSON.parse(f.stdout);return(o=b?.choices.map(p=>{var S;return(S=p?.message)===null||S===void 0?void 0:S.content}).filter(p=>typeof p=="string").flatMap(p=>r?p.split(r).filter(S=>S.trim().length>0):[p]).map(p=>{if(i)return i(p);let S=p.trim().replace(/\n/g," ");return{icon:"\u{1FA84}",name:S,insertValue:`'${S}'`,description:"Generated by Fig AI"}}))!==null&&o!==void 0?o:[]})}}I.ai=be});var H=L(y=>{"use strict";var _e=y&&y.__createBinding||(Object.create?function(e,n,t,i){i===void 0&&(i=t);var s=Object.getOwnPropertyDescriptor(n,t);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,i,s)}:function(e,n,t,i){i===void 0&&(i=t),e[i]=n[t]}),Oe=y&&y.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&_e(n,e,t)};Object.defineProperty(y,"__esModule",{value:!0});y.ai=y.folders=y.filepaths=void 0;var B=G();Object.defineProperty(y,"filepaths",{enumerable:!0,get:function(){return B.filepaths}});Object.defineProperty(y,"folders",{enumerable:!0,get:function(){return B.folders}});Oe($(),y);var we=Q();Object.defineProperty(y,"ai",{enumerable:!0,get:function(){return we.ai}})});var C=se(H(),1),Se={name:"julia",description:"The Julia Programming Language",options:[{name:["-v","--version"],description:"Display version information"},{name:["-h","--help"],description:"Print help message for julia (--help-hidden for more)"},{name:"--help-hidden",description:"Uncommon options not shown by `-h`"},{name:"--project",description:"Set given directory as the home project/environment",args:{name:"project folder",description:"Julia project/environment",isOptional:!0,suggestions:[{name:"@.",priority:75,description:"Search through parent directories until a Project.toml or JuliaProject.toml file is found"}],generators:{template:"folders"}}},{name:["-J","--sysimage"],description:"Start up with the given system image file",args:{name:"system image",generators:(0,C.filepaths)({extensions:["dylib","so","dll"],editFileSuggestions:{priority:76}})}},{name:["-H","--home"],description:"Set location of `julia` executable",args:{template:"folders"}},{name:"--startup-file",description:"Load `~/.julia/config/startup.jl`",args:{suggestions:[{name:"yes"},{name:"no"}]}},{name:"--handle-signals",description:"Enable or disable Julia's default signal handlers",args:{suggestions:[{name:"yes"},{name:"no"}]}},{name:"--sysimage-native-code",description:"Use native code from system image if available",args:{suggestions:[{name:"yes"},{name:"no"}]}},{name:"--compiled-modules",description:"Enable or disable incremental precompilation of modules",args:{suggestions:[{name:"yes"},{name:"no"}]}},{name:["-e","--eval"],insertValue:"-e '{cursor}'",description:"Evaluate given expr",args:{name:"expr"}},{name:["-E","--print"],insertValue:"-E '{cursor}'",description:"Evaluate given expr and display the result",args:{name:"expr"}},{name:["-L","--load"],description:"Load given file immediately on all processors",args:{name:"julia script",generators:(0,C.filepaths)({extensions:["jl"],editFileSuggestions:{priority:76}})}},{name:["-t","--threads"],description:'Enable N threads; "auto" sets N to the number of local CPU threads',args:{description:"Number of threads",suggestions:[{name:"auto"}]}},{name:["-p","--procs"],description:'Integer value N launches N additional local worker processes "auto" launches as many workers as the number of local CPU threads',args:{description:"Number of additional local worker processes",suggestions:[{name:"auto"}]}},{name:"--machine-file",description:"Run processes on hosts listed in given file",args:{template:"filepaths"}},{name:"-i",description:"Interactive mode; REPL runs and isinteractive() is true"},{name:["-q","--quiet"],description:"Quiet startup: no banner, suppress REPL warnings"},{name:"--banner",description:"Enable or disable startup banner",args:{suggestions:[{name:"yes"},{name:"no"},{name:"auto"}]}},{name:"--color",description:"Enable or disable color text",args:{suggestions:[{name:"yes"},{name:"no"},{name:"auto"}]}},{name:"--history-file",description:"Load or save history",args:{suggestions:[{name:"yes"},{name:"no"}]}},{name:"--depwarn",description:'Enable or disable syntax and method deprecation warnings ("error" turns warnings into errors)',args:{suggestions:[{name:"yes"},{name:"no"},{name:"error"}]}},{name:"--warn-overwrite",description:"Enable or disable method overwrite warnings",args:{suggestions:[{name:"yes"},{name:"no"}]}},{name:"--warn-scope",description:"Enable or disable warning for ambiguous top-level scope",args:{suggestions:[{name:"yes"},{name:"no"}]}},{name:["-C","--cpu-target"],description:'Limit usage of CPU features up to <target>; set to "help" to see the available options',args:{}},{name:["-O","--optimize"],description:"Set the optimization level (default level is 2 if unspecified or 3 if used without a level)",args:{name:"level",description:"Level of optimization",isOptional:!0}},{name:"-g",description:"Enable / Set the level of debug info generation",args:{name:"level",description:"Level of debug info generation",isOptional:!0}},{name:"--inline",description:"Control whether inlining is permitted, including overriding @inline declarations",args:{suggestions:[{name:"yes"},{name:"no"}]}},{name:"--check-bounds",description:"Emit bounds checks always, never, or respect @inbounds declarations",args:{suggestions:[{name:"yes"},{name:"no"},{name:"auto"}]}},{name:"--polly",description:"Enable or disable the polyhedral optimizer Polly (overrides @polly declaration)",args:{suggestions:[{name:"yes"},{name:"no"}]}},{name:"--math-mode",description:"Disallow or enable unsafe floating point optimizations (overrides @fastmath declaration)",args:{suggestions:[{name:"ieee"},{name:"fast"}]}},{name:"--code-coverage",description:'Count executions of source lines (omitting setting is equivalent to "user")',args:{isOptional:!0,suggestions:[{name:"none"},{name:"user"},{name:"all"}]}},{name:"--track-allocation",description:'Count bytes allocated by each source line (omitting setting is equivalent to "user")',args:{isOptional:!0,suggestions:[{name:"none"},{name:"user"},{name:"all"}]}},{name:"--bug-report",description:"Launch a bug report session. It can be used to start a REPL, run a script, or evaluate  expressions. It first tries to use BugReporting.jl installed in current environment and fallbacks to the latest compatible BugReporting.jl if not. For more information, see --bug-report=help",args:{name:"KIND"}},{name:"--compile",description:"Enable or disable JIT compiler, or request exhaustive or minimal compilation",args:{suggestions:[{name:"yes"},{name:"no"},{name:"all"},{name:"min"}]}},{name:"--output-o",description:"Generate an object file (including system image data)",args:{name:"name",template:"filepaths"}},{name:"--output-ji",description:"Generate a system image data file (.ji)",args:{name:"name",template:"filepaths"}},{name:"--output-unopt-bc",description:"Generate unoptimized LLVM bitcode (.bc)",args:{name:"name",template:"filepaths"}},{name:"--output-jit-bc",description:"Dump all IR generated by the frontend (not including system image)",args:{name:"name",template:"filepaths"}},{name:"--output-bc",description:"Generate LLVM bitcode (.bc)",args:{name:"name",template:"filepaths"}},{name:"--output-asm",description:"Generate an assembly file (.s)",args:{name:"name",template:"filepaths"}},{name:"--output-incremental",description:"Generate an incremental output file (rather than complete)",args:{suggestions:[{name:"yes"},{name:"no"}]}},{name:"--image-codegen",description:"Force generate code in imaging mode"}],args:{name:"julia script",isScript:!0,isOptional:!0,generators:(0,C.filepaths)({extensions:["jl"],editFileSuggestions:{priority:76}})}},Ve=Se;export{Ve as default};
